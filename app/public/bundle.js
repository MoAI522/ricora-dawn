(()=>{"use strict";(()=>{var e=function(e,n,t){if(t||2===arguments.length)for(var r,o=0,a=n.length;o<a;o++)!r&&o in n||(r||(r=Array.prototype.slice.call(n,0,o)),r[o]=n[o]);return e.concat(r||Array.prototype.slice.call(n))};var n=null;const t=function(){return n},r=JSON.parse('[{"title":"Hello, my emptiness days","filename":"01.mp3","composer":"tsuki","twitter":"https://twitter.com/tsukisann_24","soundcloud":"https://soundcloud.com/fuiedrxdraxi"},{"title":"Hundred Flavors","filename":"02.mp3","composer":"ろんぽう","twitter":"https://twitter.com/Ron_Music_logic","soundcloud":"https://soundcloud.com/ronpo-1688"},{"title":"藍の天に捧ぐささやかな願い","filename":"03.mp3","composer":"まいはね"},{"title":"Rainy Rainy Summer","composer":"udokatsu","filename":"04.mp3","twitter":"https://twitter.com/udokatsu_","soundcloud":"https://soundcloud.com/udokatsu"},{"title":"レポート書いたら夜が開けた","composer":"ろんぽう","filename":"05.mp3","twitter":"https://twitter.com/Ron_Music_logic","soundcloud":"https://soundcloud.com/ronpo-1688"},{"title":"ターミネーター","composer":"MoAI","filename":"06.mp3","twitter":"https://twitter.com/MoAI8888","soundcloud":"https://soundcloud.com/ht7nvpukltxn"},{"title":"Lemonquartz","composer":"Yuhgao","filename":"07.mp3","twitter":"https://twitter.com/Yuh_gao","soundcloud":"https://soundcloud.com/yuhgao"},{"title":"anymore(colour mix)","composer":"ueharu","filename":"08.mp3"}]');var o=function(e,n,t,r){return new(t||(t=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function u(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(i,u)}c((r=r.apply(e,n||[])).next())}))},a=function(e,n){var t,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(e,i)}catch(e){a=[6,e],r=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},i=[],u=[];const c={load:function(){return o(void 0,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,Promise.all(r.map((function(e){return o(void 0,void 0,void 0,(function(){return a(this,(function(n){switch(n.label){case 0:return[4,fetch("./music/"+e.filename)];case 1:return[4,n.sent().arrayBuffer()];case 2:return[2,n.sent()]}}))}))})))];case 1:return i=e.sent(),E.debug("loading completed"),[2]}}))}))},init:function(){return o(void 0,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,Promise.all(i.map((function(e){return o(void 0,void 0,void 0,(function(){var n;return a(this,(function(r){switch(r.label){case 0:return[4,null===(n=t())||void 0===n?void 0:n.decodeAudioData(e,(function(e){return e}),(function(e){return null}))];case 1:return[2,r.sent()||null]}}))}))})))];case 1:return u=e.sent(),[2]}}))}))},getAudioBuffers:function(){return u},getNumberOfTracks:function(){return u.length}};var s=function(e,n,t){if(t||2===arguments.length)for(var r,o=0,a=n.length;o<a;o++)!r&&o in n||(r||(r=Array.prototype.slice.call(n,0,o)),r[o]=n[o]);return e.concat(r||Array.prototype.slice.call(n))},l=null,f="not_initialized",d=0,v=null,p=[],m=!1,h=null,y=function(e,n,r){void 0===r&&(r=!1);var o=t();if(null!==o){E.debug("fade",e,n,r),p.some((function(n){return n.control.trackNumber==e.trackNumber&&"fade"===n.type}))&&g(e.trackNumber,"fade"),e.gainNode.gain.value=e.gainNode.gain.value,e.gainNode.gain.linearRampToValueAtTime(n?.01:1,o.currentTime+1);var a=window.setTimeout((function(){E.debug("fade task execute",e,n,r),g(e.trackNumber,"fade"),n&&e.bufferSource.stop(),r&&g(e.trackNumber,"audioEnd")}),1e3);p.push({type:"fade",timeOutHandler:a,control:e}),E.debug("fade task reserved",s([],p,!0))}},g=function(e,n){var t=p.filter((function(t){return t.control.trackNumber==e&&t.type===n}));t.forEach((function(e){return window.clearTimeout(e.timeOutHandler)})),p=p.filter((function(t){return t.control.trackNumber!=e||t.type!==n})),E.debug("filtered tasks",{trackNumber:e,type:n},t,s([],p,!0))};const b={init:function(){var e=t();if(null!==e){(l=e.createGain()).gain.value=1,l.connect(e.destination),f="stopped";var n=e.createBufferSource();return n.connect(e.destination),n.buffer=e.createBuffer(1,1,22050),new Promise((function(e){n.onended=function(){n.disconnect(0),e("")},n.start(0)}))}},play:function(e){var n;if(!m&&!(e<0||e>=c.getAudioBuffers().length||"playing"===f&&e==(null==v?void 0:v.trackNumber)||"not_initialized"===f||null===l)){var r=t(),o=null===(n=c.getAudioBuffers())||void 0===n?void 0:n[e];if(null!==r&&null!==o){if(E.debug("play",e,null==v?void 0:v.trackNumber,s([],p,!0)),null!==v&&y(v,!0,!0),p.some((function(n){return E.debug("some",n.control.trackNumber,e,n.type),n.control.trackNumber==e&&"fade"===n.type}))){var a=p.filter((function(n){return n.control.trackNumber==e&&"fade"===n.type}));return E.debug("this track already been playing. continue",e,a),y(a[0].control,!1),void(v=a[0].control)}var i=r.createBufferSource();i.buffer=o;var u=r.createGain();u.gain.value=.01,i.connect(u).connect(l),i.start(),d=e,y(v={bufferSource:i,gainNode:u,trackNumber:e},!1);var b=window.setTimeout((function(){E.debug("audio end",r.currentTime),g(e,"audioEnd"),null!==h&&h()}),1e3*(o.duration-1));p.push({type:"audioEnd",timeOutHandler:b,control:v}),E.debug("audio end reserved",r.currentTime,s([],p,!0)),f="playing"}}},pause:function(){"playing"===f&&null!==v&&(E.debug("pause"),y(v,!0,!0),v=null,f="stopped")},setGain:function(e){null==l||l.gain.linearRampToValueAtTime(e,.5)},setAudioEndCallback:function(e){return h=e},getState:function(){return f},getCurrentTrackNumber:function(){return d},lock:function(){return m=!0},unlock:function(){return m=!1}};var x,w,E=(x="audio",void 0===w&&(w=!1),{debug:function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t]},log:function(n){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];w||console.log.apply(console,e(["["+x+"] "+n],t,!1))}}),T="not_initialized";const P={load:c.load,init:function(){return e=void 0,t=void 0,o=function(){return function(e,n){var t,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(e,i)}catch(e){a=[6,e],r=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}(this,(function(e){switch(e.label){case 0:return"initialized"===T?[2]:(n=new(window.AudioContext||window.webkitAudioContext),[4,c.init()]);case 1:return e.sent(),[4,b.init()];case 2:return e.sent(),T="initialized",document.addEventListener("xfdplay",(function(){b.pause(),b.lock()})),document.addEventListener("xfdstop",(function(){b.unlock()})),[2]}}))},new((r=void 0)||(r=Promise))((function(n,a){function i(e){try{c(o.next(e))}catch(e){a(e)}}function u(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,u)}c((o=o.apply(e,t||[])).next())}));var e,t,r,o},play:b.play,pause:b.pause,setGain:b.setGain,setAudioEndCallback:b.setAudioEndCallback,getState:b.getState,getCurrentTrackNum:b.getCurrentTrackNumber,getNumberOfTracks:c.getNumberOfTracks};var A={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},M={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},k=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],_={CSS:{},springs:{}};function C(e,n,t){return Math.min(Math.max(e,n),t)}function B(e,n){return e.indexOf(n)>-1}function L(e,n){return e.apply(null,n)}var I={arr:function(e){return Array.isArray(e)},obj:function(e){return B(Object.prototype.toString.call(e),"Object")},pth:function(e){return I.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||I.svg(e)},str:function(e){return"string"==typeof e},fnc:function(e){return"function"==typeof e},und:function(e){return void 0===e},nil:function(e){return I.und(e)||null===e},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return I.hex(e)||I.rgb(e)||I.hsl(e)},key:function(e){return!A.hasOwnProperty(e)&&!M.hasOwnProperty(e)&&"targets"!==e&&"keyframes"!==e}};function F(e){var n=/\(([^)]+)\)/.exec(e);return n?n[1].split(",").map((function(e){return parseFloat(e)})):[]}function R(e,n){var t=F(e),r=C(I.und(t[0])?1:t[0],.1,100),o=C(I.und(t[1])?100:t[1],.1,100),a=C(I.und(t[2])?10:t[2],.1,100),i=C(I.und(t[3])?0:t[3],.1,100),u=Math.sqrt(o/r),c=a/(2*Math.sqrt(o*r)),s=c<1?u*Math.sqrt(1-c*c):0,l=c<1?(c*u-i)/s:-i+u;function f(e){var t=n?n*e/1e3:e;return t=c<1?Math.exp(-t*c*u)*(1*Math.cos(s*t)+l*Math.sin(s*t)):(1+l*t)*Math.exp(-t*u),0===e||1===e?e:1-t}return n?f:function(){var n=_.springs[e];if(n)return n;for(var t=1/6,r=0,o=0;;)if(1===f(r+=t)){if(++o>=16)break}else o=0;var a=r*t*1e3;return _.springs[e]=a,a}}function S(e){return void 0===e&&(e=10),function(n){return Math.ceil(C(n,1e-6,1)*e)*(1/e)}}var N,z,O=function(){var e=.1;function n(e,n){return 1-3*n+3*e}function t(e,n){return 3*n-6*e}function r(e){return 3*e}function o(e,o,a){return((n(o,a)*e+t(o,a))*e+r(o))*e}function a(e,o,a){return 3*n(o,a)*e*e+2*t(o,a)*e+r(o)}return function(n,t,r,i){if(0<=n&&n<=1&&0<=r&&r<=1){var u=new Float32Array(11);if(n!==t||r!==i)for(var c=0;c<11;++c)u[c]=o(c*e,n,r);return function(c){return n===t&&r===i||0===c||1===c?c:o(function(t){for(var i=0,c=1;10!==c&&u[c]<=t;++c)i+=e;--c;var s=i+(t-u[c])/(u[c+1]-u[c])*e,l=a(s,n,r);return l>=.001?function(e,n,t,r){for(var i=0;i<4;++i){var u=a(n,t,r);if(0===u)return n;n-=(o(n,t,r)-e)/u}return n}(t,s,n,r):0===l?s:function(e,n,t,r,a){var i,u,c=0;do{(i=o(u=n+(t-n)/2,r,a)-e)>0?t=u:n=u}while(Math.abs(i)>1e-7&&++c<10);return u}(t,i,i+e,n,r)}(c),t,i)}}}}(),U=(N={linear:function(){return function(e){return e}}},z={Sine:function(){return function(e){return 1-Math.cos(e*Math.PI/2)}},Circ:function(){return function(e){return 1-Math.sqrt(1-e*e)}},Back:function(){return function(e){return e*e*(3*e-2)}},Bounce:function(){return function(e){for(var n,t=4;e<((n=Math.pow(2,--t))-1)/11;);return 1/Math.pow(4,3-t)-7.5625*Math.pow((3*n-2)/22-e,2)}},Elastic:function(e,n){void 0===e&&(e=1),void 0===n&&(n=.5);var t=C(e,1,10),r=C(n,.1,2);return function(e){return 0===e||1===e?e:-t*Math.pow(2,10*(e-1))*Math.sin((e-1-r/(2*Math.PI)*Math.asin(1/t))*(2*Math.PI)/r)}}},["Quad","Cubic","Quart","Quint","Expo"].forEach((function(e,n){z[e]=function(){return function(e){return Math.pow(e,n+2)}}})),Object.keys(z).forEach((function(e){var n=z[e];N["easeIn"+e]=n,N["easeOut"+e]=function(e,t){return function(r){return 1-n(e,t)(1-r)}},N["easeInOut"+e]=function(e,t){return function(r){return r<.5?n(e,t)(2*r)/2:1-n(e,t)(-2*r+2)/2}},N["easeOutIn"+e]=function(e,t){return function(r){return r<.5?(1-n(e,t)(1-2*r))/2:(n(e,t)(2*r-1)+1)/2}}})),N);function D(e,n){if(I.fnc(e))return e;var t=e.split("(")[0],r=U[t],o=F(e);switch(t){case"spring":return R(e,n);case"cubicBezier":return L(O,o);case"steps":return L(S,o);default:return L(r,o)}}function q(e){try{return document.querySelectorAll(e)}catch(e){return}}function Y(e,n){for(var t=e.length,r=arguments.length>=2?arguments[1]:void 0,o=[],a=0;a<t;a++)if(a in e){var i=e[a];n.call(r,i,a,e)&&o.push(i)}return o}function H(e){return e.reduce((function(e,n){return e.concat(I.arr(n)?H(n):n)}),[])}function V(e){return I.arr(e)?e:(I.str(e)&&(e=q(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function W(e,n){return e.some((function(e){return e===n}))}function X(e){var n={};for(var t in e)n[t]=e[t];return n}function G(e,n){var t=X(e);for(var r in e)t[r]=n.hasOwnProperty(r)?n[r]:e[r];return t}function j(e,n){var t=X(e);for(var r in n)t[r]=I.und(e[r])?n[r]:e[r];return t}function Q(e){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(n)return n[1]}function Z(e,n){return I.fnc(e)?e(n.target,n.id,n.total):e}function $(e,n){return e.getAttribute(n)}function J(e,n,t){if(W([t,"deg","rad","turn"],Q(n)))return n;var r=_.CSS[n+t];if(!I.und(r))return r;var o=document.createElement(e.tagName),a=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;a.appendChild(o),o.style.position="absolute",o.style.width=100+t;var i=100/o.offsetWidth;a.removeChild(o);var u=i*parseFloat(n);return _.CSS[n+t]=u,u}function K(e,n,t){if(n in e.style){var r=n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),o=e.style[n]||getComputedStyle(e).getPropertyValue(r)||"0";return t?J(e,o,t):o}}function ee(e,n){return I.dom(e)&&!I.inp(e)&&(!I.nil($(e,n))||I.svg(e)&&e[n])?"attribute":I.dom(e)&&W(k,n)?"transform":I.dom(e)&&"transform"!==n&&K(e,n)?"css":null!=e[n]?"object":void 0}function ne(e){if(I.dom(e)){for(var n,t=e.style.transform||"",r=/(\w+)\(([^)]*)\)/g,o=new Map;n=r.exec(t);)o.set(n[1],n[2]);return o}}function te(e,n,t,r){switch(ee(e,n)){case"transform":return function(e,n,t,r){var o=B(n,"scale")?1:0+function(e){return B(e,"translate")||"perspective"===e?"px":B(e,"rotate")||B(e,"skew")?"deg":void 0}(n),a=ne(e).get(n)||o;return t&&(t.transforms.list.set(n,a),t.transforms.last=n),r?J(e,a,r):a}(e,n,r,t);case"css":return K(e,n,t);case"attribute":return $(e,n);default:return e[n]||0}}function re(e,n){var t=/^(\*=|\+=|-=)/.exec(e);if(!t)return e;var r=Q(e)||0,o=parseFloat(n),a=parseFloat(e.replace(t[0],""));switch(t[0][0]){case"+":return o+a+r;case"-":return o-a+r;case"*":return o*a+r}}function oe(e,n){if(I.col(e))return function(e){return I.rgb(e)?(t=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(n=e))?"rgba("+t[1]+",1)":n:I.hex(e)?function(e){var n=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,n,t,r){return n+n+t+t+r+r})),t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);return"rgba("+parseInt(t[1],16)+","+parseInt(t[2],16)+","+parseInt(t[3],16)+",1)"}(e):I.hsl(e)?function(e){var n,t,r,o=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),a=parseInt(o[1],10)/360,i=parseInt(o[2],10)/100,u=parseInt(o[3],10)/100,c=o[4]||1;function s(e,n,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?e+6*(n-e)*t:t<.5?n:t<2/3?e+(n-e)*(2/3-t)*6:e}if(0==i)n=t=r=u;else{var l=u<.5?u*(1+i):u+i-u*i,f=2*u-l;n=s(f,l,a+1/3),t=s(f,l,a),r=s(f,l,a-1/3)}return"rgba("+255*n+","+255*t+","+255*r+","+c+")"}(e):void 0;var n,t}(e);if(/\s/g.test(e))return e;var t=Q(e),r=t?e.substr(0,e.length-t.length):e;return n?r+n:r}function ae(e,n){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function ie(e){for(var n,t=e.points,r=0,o=0;o<t.numberOfItems;o++){var a=t.getItem(o);o>0&&(r+=ae(n,a)),n=a}return r}function ue(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return function(e){return 2*Math.PI*$(e,"r")}(e);case"rect":return function(e){return 2*$(e,"width")+2*$(e,"height")}(e);case"line":return function(e){return ae({x:$(e,"x1"),y:$(e,"y1")},{x:$(e,"x2"),y:$(e,"y2")})}(e);case"polyline":return ie(e);case"polygon":return function(e){var n=e.points;return ie(e)+ae(n.getItem(n.numberOfItems-1),n.getItem(0))}(e)}}function ce(e,n){var t=n||{},r=t.el||function(e){for(var n=e.parentNode;I.svg(n)&&I.svg(n.parentNode);)n=n.parentNode;return n}(e),o=r.getBoundingClientRect(),a=$(r,"viewBox"),i=o.width,u=o.height,c=t.viewBox||(a?a.split(" "):[0,0,i,u]);return{el:r,viewBox:c,x:c[0]/1,y:c[1]/1,w:i,h:u,vW:c[2],vH:c[3]}}function se(e,n,t){function r(t){void 0===t&&(t=0);var r=n+t>=1?n+t:0;return e.el.getPointAtLength(r)}var o=ce(e.el,e.svg),a=r(),i=r(-1),u=r(1),c=t?1:o.w/o.vW,s=t?1:o.h/o.vH;switch(e.property){case"x":return(a.x-o.x)*c;case"y":return(a.y-o.y)*s;case"angle":return 180*Math.atan2(u.y-i.y,u.x-i.x)/Math.PI}}function le(e,n){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,r=oe(I.pth(e)?e.totalLength:e,n)+"";return{original:r,numbers:r.match(t)?r.match(t).map(Number):[0],strings:I.str(e)||n?r.split(t):[]}}function fe(e){return Y(e?H(I.arr(e)?e.map(V):V(e)):[],(function(e,n,t){return t.indexOf(e)===n}))}function de(e){var n=fe(e);return n.map((function(e,t){return{target:e,id:t,total:n.length,transforms:{list:ne(e)}}}))}function ve(e,n){var t=X(n);if(/^spring/.test(t.easing)&&(t.duration=R(t.easing)),I.arr(e)){var r=e.length;2!==r||I.obj(e[0])?I.fnc(n.duration)||(t.duration=n.duration/r):e={value:e}}var o=I.arr(e)?e:[e];return o.map((function(e,t){var r=I.obj(e)&&!I.pth(e)?e:{value:e};return I.und(r.delay)&&(r.delay=t?0:n.delay),I.und(r.endDelay)&&(r.endDelay=t===o.length-1?n.endDelay:0),r})).map((function(e){return j(e,t)}))}var pe={css:function(e,n,t){return e.style[n]=t},attribute:function(e,n,t){return e.setAttribute(n,t)},object:function(e,n,t){return e[n]=t},transform:function(e,n,t,r,o){if(r.list.set(n,t),n===r.last||o){var a="";r.list.forEach((function(e,n){a+=n+"("+e+") "})),e.style.transform=a}}};function me(e,n){de(e).forEach((function(e){for(var t in n){var r=Z(n[t],e),o=e.target,a=Q(r),i=te(o,t,a,e),u=re(oe(r,a||Q(i)),i),c=ee(o,t);pe[c](o,t,u,e.transforms,!0)}}))}function he(e,n){return Y(H(e.map((function(e){return n.map((function(n){return function(e,n){var t=ee(e.target,n.name);if(t){var r=function(e,n){var t;return e.tweens.map((function(r){var o=function(e,n){var t={};for(var r in e){var o=Z(e[r],n);I.arr(o)&&1===(o=o.map((function(e){return Z(e,n)}))).length&&(o=o[0]),t[r]=o}return t.duration=parseFloat(t.duration),t.delay=parseFloat(t.delay),t}(r,n),a=o.value,i=I.arr(a)?a[1]:a,u=Q(i),c=te(n.target,e.name,u,n),s=t?t.to.original:c,l=I.arr(a)?a[0]:s,f=Q(l)||Q(c),d=u||f;return I.und(i)&&(i=s),o.from=le(l,d),o.to=le(re(i,l),d),o.start=t?t.end:0,o.end=o.start+o.delay+o.duration+o.endDelay,o.easing=D(o.easing,o.duration),o.isPath=I.pth(a),o.isPathTargetInsideSVG=o.isPath&&I.svg(n.target),o.isColor=I.col(o.from.original),o.isColor&&(o.round=1),t=o,o}))}(n,e),o=r[r.length-1];return{type:t,property:n.name,animatable:e,tweens:r,duration:o.end,delay:r[0].delay,endDelay:o.endDelay}}}(e,n)}))}))),(function(e){return!I.und(e)}))}function ye(e,n){var t=e.length,r=function(e){return e.timelineOffset?e.timelineOffset:0},o={};return o.duration=t?Math.max.apply(Math,e.map((function(e){return r(e)+e.duration}))):n.duration,o.delay=t?Math.min.apply(Math,e.map((function(e){return r(e)+e.delay}))):n.delay,o.endDelay=t?o.duration-Math.max.apply(Math,e.map((function(e){return r(e)+e.duration-e.endDelay}))):n.endDelay,o}var ge=0,be=[],xe=function(){var e;function n(t){for(var r=be.length,o=0;o<r;){var a=be[o];a.paused?(be.splice(o,1),r--):(a.tick(t),o++)}e=o>0?requestAnimationFrame(n):void 0}return"undefined"!=typeof document&&document.addEventListener("visibilitychange",(function(){Ee.suspendWhenDocumentHidden&&(we()?e=cancelAnimationFrame(e):(be.forEach((function(e){return e._onDocumentVisibility()})),xe()))})),function(){e||we()&&Ee.suspendWhenDocumentHidden||!(be.length>0)||(e=requestAnimationFrame(n))}}();function we(){return!!document&&document.hidden}function Ee(e){void 0===e&&(e={});var n,t=0,r=0,o=0,a=0,i=null;function u(e){var n=window.Promise&&new Promise((function(e){return i=e}));return e.finished=n,n}var c=function(e){var n=G(A,e),t=G(M,e),r=function(e,n){var t=[],r=n.keyframes;for(var o in r&&(n=j(function(e){for(var n=Y(H(e.map((function(e){return Object.keys(e)}))),(function(e){return I.key(e)})).reduce((function(e,n){return e.indexOf(n)<0&&e.push(n),e}),[]),t={},r=function(r){var o=n[r];t[o]=e.map((function(e){var n={};for(var t in e)I.key(t)?t==o&&(n.value=e[t]):n[t]=e[t];return n}))},o=0;o<n.length;o++)r(o);return t}(r),n)),n)I.key(o)&&t.push({name:o,tweens:ve(n[o],e)});return t}(t,e),o=de(e.targets),a=he(o,r),i=ye(a,t),u=ge;return ge++,j(n,{id:u,children:[],animatables:o,animations:a,duration:i.duration,delay:i.delay,endDelay:i.endDelay})}(e);function s(){var e=c.direction;"alternate"!==e&&(c.direction="normal"!==e?"normal":"reverse"),c.reversed=!c.reversed,n.forEach((function(e){return e.reversed=c.reversed}))}function l(e){return c.reversed?c.duration-e:e}function f(){t=0,r=l(c.currentTime)*(1/Ee.speed)}function d(e,n){n&&n.seek(e-n.timelineOffset)}function v(e){for(var n=0,t=c.animations,r=t.length;n<r;){var o=t[n],a=o.animatable,i=o.tweens,u=i.length-1,s=i[u];u&&(s=Y(i,(function(n){return e<n.end}))[0]||s);for(var l=C(e-s.start-s.delay,0,s.duration)/s.duration,f=isNaN(l)?1:s.easing(l),d=s.to.strings,v=s.round,p=[],m=s.to.numbers.length,h=void 0,y=0;y<m;y++){var g=void 0,b=s.to.numbers[y],x=s.from.numbers[y]||0;g=s.isPath?se(s.value,f*b,s.isPathTargetInsideSVG):x+f*(b-x),v&&(s.isColor&&y>2||(g=Math.round(g*v)/v)),p.push(g)}var w=d.length;if(w){h=d[0];for(var E=0;E<w;E++){d[E];var T=d[E+1],P=p[E];isNaN(P)||(h+=T?P+T:P+" ")}}else h=p[0];pe[o.type](a.target,o.property,h,a.transforms),o.currentValue=h,n++}}function p(e){c[e]&&!c.passThrough&&c[e](c)}function m(e){var f=c.duration,m=c.delay,h=f-c.endDelay,y=l(e);c.progress=C(y/f*100,0,100),c.reversePlayback=y<c.currentTime,n&&function(e){if(c.reversePlayback)for(var t=a;t--;)d(e,n[t]);else for(var r=0;r<a;r++)d(e,n[r])}(y),!c.began&&c.currentTime>0&&(c.began=!0,p("begin")),!c.loopBegan&&c.currentTime>0&&(c.loopBegan=!0,p("loopBegin")),y<=m&&0!==c.currentTime&&v(0),(y>=h&&c.currentTime!==f||!f)&&v(f),y>m&&y<h?(c.changeBegan||(c.changeBegan=!0,c.changeCompleted=!1,p("changeBegin")),p("change"),v(y)):c.changeBegan&&(c.changeCompleted=!0,c.changeBegan=!1,p("changeComplete")),c.currentTime=C(y,0,f),c.began&&p("update"),e>=f&&(r=0,c.remaining&&!0!==c.remaining&&c.remaining--,c.remaining?(t=o,p("loopComplete"),c.loopBegan=!1,"alternate"===c.direction&&s()):(c.paused=!0,c.completed||(c.completed=!0,p("loopComplete"),p("complete"),!c.passThrough&&"Promise"in window&&(i(),u(c)))))}return u(c),c.reset=function(){var e=c.direction;c.passThrough=!1,c.currentTime=0,c.progress=0,c.paused=!0,c.began=!1,c.loopBegan=!1,c.changeBegan=!1,c.completed=!1,c.changeCompleted=!1,c.reversePlayback=!1,c.reversed="reverse"===e,c.remaining=c.loop,n=c.children;for(var t=a=n.length;t--;)c.children[t].reset();(c.reversed&&!0!==c.loop||"alternate"===e&&1===c.loop)&&c.remaining++,v(c.reversed?c.duration:0)},c._onDocumentVisibility=f,c.set=function(e,n){return me(e,n),c},c.tick=function(e){o=e,t||(t=o),m((o+(r-t))*Ee.speed)},c.seek=function(e){m(l(e))},c.pause=function(){c.paused=!0,f()},c.play=function(){c.paused&&(c.completed&&c.reset(),c.paused=!1,be.push(c),f(),xe())},c.reverse=function(){s(),c.completed=!c.reversed,f()},c.restart=function(){c.reset(),c.play()},c.remove=function(e){Pe(fe(e),c)},c.reset(),c.autoplay&&c.play(),c}function Te(e,n){for(var t=n.length;t--;)W(e,n[t].animatable.target)&&n.splice(t,1)}function Pe(e,n){var t=n.animations,r=n.children;Te(e,t);for(var o=r.length;o--;){var a=r[o],i=a.animations;Te(e,i),i.length||a.children.length||r.splice(o,1)}t.length||r.length||n.pause()}Ee.version="3.2.1",Ee.speed=1,Ee.suspendWhenDocumentHidden=!0,Ee.running=be,Ee.remove=function(e){for(var n=fe(e),t=be.length;t--;)Pe(n,be[t])},Ee.get=te,Ee.set=me,Ee.convertPx=J,Ee.path=function(e,n){var t=I.str(e)?q(e)[0]:e,r=n||100;return function(e){return{property:e,el:t,svg:ce(t),totalLength:ue(t)*(r/100)}}},Ee.setDashoffset=function(e){var n=ue(e);return e.setAttribute("stroke-dasharray",n),n},Ee.stagger=function(e,n){void 0===n&&(n={});var t=n.direction||"normal",r=n.easing?D(n.easing):null,o=n.grid,a=n.axis,i=n.from||0,u="first"===i,c="center"===i,s="last"===i,l=I.arr(e),f=l?parseFloat(e[0]):parseFloat(e),d=l?parseFloat(e[1]):0,v=Q(l?e[1]:e)||0,p=n.start||0+(l?f:0),m=[],h=0;return function(e,n,y){if(u&&(i=0),c&&(i=(y-1)/2),s&&(i=y-1),!m.length){for(var g=0;g<y;g++){if(o){var b=c?(o[0]-1)/2:i%o[0],x=c?(o[1]-1)/2:Math.floor(i/o[0]),w=b-g%o[0],E=x-Math.floor(g/o[0]),T=Math.sqrt(w*w+E*E);"x"===a&&(T=-w),"y"===a&&(T=-E),m.push(T)}else m.push(Math.abs(i-g));h=Math.max.apply(Math,m)}r&&(m=m.map((function(e){return r(e/h)*h}))),"reverse"===t&&(m=m.map((function(e){return a?e<0?-1*e:-e:Math.abs(h-e)})))}return p+(l?(d-f)/h:f)*(Math.round(100*m[n])/100)+v}},Ee.timeline=function(e){void 0===e&&(e={});var n=Ee(e);return n.duration=0,n.add=function(t,r){var o=be.indexOf(n),a=n.children;function i(e){e.passThrough=!0}o>-1&&be.splice(o,1);for(var u=0;u<a.length;u++)i(a[u]);var c=j(t,G(M,e));c.targets=c.targets||e.targets;var s=n.duration;c.autoplay=!1,c.direction=n.direction,c.timelineOffset=I.und(r)?s:re(r,s),i(n),n.seek(c.timelineOffset);var l=Ee(c);i(l),a.push(l);var f=ye(a,e);return n.delay=f.delay,n.endDelay=f.endDelay,n.duration=f.duration,n.seek(0),n.reset(),n.autoplay&&n.play(),n},n},Ee.easing=D,Ee.penner=U,Ee.random=function(e,n){return Math.floor(Math.random()*(n-e+1))+e};const Ae=Ee;var Me,ke,_e;const Ce=function(e,n){return void 0===n&&(n=!1),t=void 0,r=void 0,a=function(){var t,r;return function(e,n){var t,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(e,i)}catch(e){a=[6,e],r=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}(this,(function(o){switch(o.label){case 0:return t=document.getElementById("audio-check-screen"),r=document.getElementById("audio-check-ok"),[4,new Promise((function(e){Me.pause(),ke.pause(),_e.pause();var n=document.getElementById("loading-wrapper");n.addEventListener("transitionend",(function(){return e("")})),n.classList.add("fadeout")}))];case 1:return o.sent(),t.classList.add("ready"),[4,new Promise((function(e){return requestAnimationFrame((function(){return e("")}))}))];case 2:return o.sent(),t.classList.add("fadein"),r.addEventListener("click",(function(){r.disabled=!0,document.getElementsByTagName("html")[0].style.overflow="",t.addEventListener("transitionend",(function(){t.style.display="none"})),t.classList.add("closing"),e()})),n?(document.getElementsByTagName("html")[0].style.overflow="",e()):t.classList.remove("loading"),[2]}}))},new((o=void 0)||(o=Promise))((function(e,n){function i(e){try{c(a.next(e))}catch(e){n(e)}}function u(e){try{c(a.throw(e))}catch(e){n(e)}}function c(n){var t;n.done?e(n.value):(t=n.value,t instanceof o?t:new o((function(e){e(t)}))).then(i,u)}c((a=a.apply(t,r||[])).next())}));var t,r,o,a};var Be=1e-6,Le="undefined"!=typeof Float32Array?Float32Array:Array;function Ie(){var e=new Le(16);return Le!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function Fe(e,n){var t=n[0],r=n[1],o=n[2],a=n[3],i=n[4],u=n[5],c=n[6],s=n[7],l=n[8],f=n[9],d=n[10],v=n[11],p=n[12],m=n[13],h=n[14],y=n[15],g=t*u-r*i,b=t*c-o*i,x=t*s-a*i,w=r*c-o*u,E=r*s-a*u,T=o*s-a*c,P=l*m-f*p,A=l*h-d*p,M=l*y-v*p,k=f*h-d*m,_=f*y-v*m,C=d*y-v*h,B=g*C-b*_+x*k+w*M-E*A+T*P;return B?(B=1/B,e[0]=(u*C-c*_+s*k)*B,e[1]=(o*_-r*C-a*k)*B,e[2]=(m*T-h*E+y*w)*B,e[3]=(d*E-f*T-v*w)*B,e[4]=(c*M-i*C-s*A)*B,e[5]=(t*C-o*M+a*A)*B,e[6]=(h*x-p*T-y*b)*B,e[7]=(l*T-d*x+v*b)*B,e[8]=(i*_-u*M+s*P)*B,e[9]=(r*M-t*_-a*P)*B,e[10]=(p*E-m*x+y*g)*B,e[11]=(f*x-l*E-v*g)*B,e[12]=(u*A-i*k-c*P)*B,e[13]=(t*k-r*A+o*P)*B,e[14]=(m*b-p*w-h*g)*B,e[15]=(l*w-f*b+d*g)*B,e):null}Math.random,Math.PI,Math.hypot||(Math.hypot=function(){for(var e=0,n=arguments.length;n--;)e+=arguments[n]*arguments[n];return Math.sqrt(e)});function Re(){var e=new Le(3);return Le!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function Se(e,n,t,r){return e[0]=n,e[1]=t,e[2]=r,e}Re();var Ne={zp:"./images/skybox/pz.png"},ze={};const Oe=function(){return ze};var Ue=function(e,n,t){var r=e.createShader(n);return null===r?null:(e.shaderSource(r,t),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS)?r:(alert("An error occurred compiling the shaders: "+e.getShaderInfoLog(r)),e.deleteShader(r),null))};const De=function(e,n,t,r){var o=function(e,n,t){var r=Ue(e,e.VERTEX_SHADER,n),o=Ue(e,e.FRAGMENT_SHADER,t);if(null===r||null===o)return null;var a=e.createProgram();return null===a?null:(e.attachShader(a,r),e.attachShader(a,o),e.linkProgram(a),e.getProgramParameter(a,e.LINK_STATUS)?a:(alert("Unable to initialize the shader program: "+e.getProgramInfoLog(a)),null))}(e,n,t);if(null===o)return null;var a=Object.keys(r.attribLocations).reduce((function(n,t){return n[t]=e.getAttribLocation(o,t),n}),{}),i=Object.keys(r.uniformLocations).reduce((function(n,t){return n[t]=e.getUniformLocation(o,t),n}),{});return{program:o,attribLocations:a,uniformLocations:i}};var qe={aVertexPosition:0,aNormal:0},Ye={uTransformMatrix:null,uProjectionMatrix:null,uViewMatrix:null,uWorld:null,uTexture:null,uWorldCameraPosition:null,uTime:null,uParam:null},He=null,Ve=null,We=null,Xe=null;var Ge={aPosition:0},je={uParam:null,uSkybox:null,uViewDirectionProjectionInverse:null},Qe=null,Ze=null;var $e=null;var Je=null,Ke={x:0,y:0},en={x:0,y:0},nn={x:0,y:0},tn=0,rn=function(e){if(null!==Je){var n=(e*=.001)-tn;tn=e;var t=on(n),r=45*Math.PI/180,o=Je.canvas.clientWidth/Je.canvas.clientHeight,a=Ie();!function(e,n,t,r,o){var a,i=1/Math.tan(n/2);e[0]=i/t,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=o&&o!==1/0?(a=1/(r-o),e[10]=(o+r)*a,e[14]=2*o*r*a):(e[10]=-1,e[14]=-2*r)}(a,r,o,1,2e3);var i=Re(),u=Re(),c=Re();Se(i,0,0,0),Se(u,.03*t.x,.03*-t.y,1),Se(c,0,1,0);var s=Ie();!function(e,n,t,r){var o,a,i,u,c,s,l,f,d,v,p=n[0],m=n[1],h=n[2],y=r[0],g=r[1],b=r[2],x=t[0],w=t[1],E=t[2];Math.abs(p-x)<Be&&Math.abs(m-w)<Be&&Math.abs(h-E)<Be?function(e){e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1}(e):(l=p-x,f=m-w,d=h-E,o=g*(d*=v=1/Math.hypot(l,f,d))-b*(f*=v),a=b*(l*=v)-y*d,i=y*f-g*l,(v=Math.hypot(o,a,i))?(o*=v=1/v,a*=v,i*=v):(o=0,a=0,i=0),u=f*i-d*a,c=d*o-l*i,s=l*a-f*o,(v=Math.hypot(u,c,s))?(u*=v=1/v,c*=v,s*=v):(u=0,c=0,s=0),e[0]=o,e[1]=u,e[2]=l,e[3]=0,e[4]=a,e[5]=c,e[6]=f,e[7]=0,e[8]=i,e[9]=s,e[10]=d,e[11]=0,e[12]=-(o*p+a*m+i*h),e[13]=-(u*p+c*m+s*h),e[14]=-(l*p+f*m+d*h),e[15]=1)}(s,i,u,c);var l=Ie();Fe(l,s);var f=Ie(),d=window.scrollY/(document.documentElement.scrollHeight-document.documentElement.clientHeight);Je.clearColor(0,0,0,1),Je.clearDepth(1),Je.enable(Je.CULL_FACE),Je.clear(Je.COLOR_BUFFER_BIT|Je.DEPTH_BUFFER_BIT),function(e,n,t,r){if(null!==Qe){var o,a,i=Ie();a=t,(o=i)[0]=a[0],o[1]=a[1],o[2]=a[2],o[3]=a[3],o[4]=a[4],o[5]=a[5],o[6]=a[6],o[7]=a[7],o[8]=a[8],o[9]=a[9],o[10]=a[10],o[11]=a[11],o[12]=a[12],o[13]=a[13],o[14]=a[14],o[15]=a[15],i[12]=0,i[13]=0,i[14]=0;var u=Ie();(function(e,n,t){var r=n[0],o=n[1],a=n[2],i=n[3],u=n[4],c=n[5],s=n[6],l=n[7],f=n[8],d=n[9],v=n[10],p=n[11],m=n[12],h=n[13],y=n[14],g=n[15],b=t[0],x=t[1],w=t[2],E=t[3];e[0]=b*r+x*u+w*f+E*m,e[1]=b*o+x*c+w*d+E*h,e[2]=b*a+x*s+w*v+E*y,e[3]=b*i+x*l+w*p+E*g,b=t[4],x=t[5],w=t[6],E=t[7],e[4]=b*r+x*u+w*f+E*m,e[5]=b*o+x*c+w*d+E*h,e[6]=b*a+x*s+w*v+E*y,e[7]=b*i+x*l+w*p+E*g,b=t[8],x=t[9],w=t[10],E=t[11],e[8]=b*r+x*u+w*f+E*m,e[9]=b*o+x*c+w*d+E*h,e[10]=b*a+x*s+w*v+E*y,e[11]=b*i+x*l+w*p+E*g,b=t[12],x=t[13],w=t[14],E=t[15],e[12]=b*r+x*u+w*f+E*m,e[13]=b*o+x*c+w*d+E*h,e[14]=b*a+x*s+w*v+E*y,e[15]=b*i+x*l+w*p+E*g})(u,n,i),Fe(u,u),e.depthFunc(e.LEQUAL),e.useProgram(Qe.program);var c=e.FLOAT;e.bindBuffer(e.ARRAY_BUFFER,Ze),e.vertexAttribPointer(Qe.attribLocations.aPosition,2,c,!1,0,0),e.enableVertexAttribArray(Qe.attribLocations.aPosition),e.uniformMatrix4fv(Qe.uniformLocations.uViewDirectionProjectionInverse,!1,u),e.uniform1i(Qe.uniformLocations.uSkybox,0),e.uniform1f(Qe.uniformLocations.uParam,r),e.drawArrays(e.TRIANGLES,0,6)}}(Je,a,l,d),function(e,n,t,r,o,a,i){if(null!==He){e.depthFunc(e.LESS),e.useProgram(He.program);var u,c,s,l,f,d,v,p,m,h,y,g,b,x,w,E,T,P,A=Ie(),M=Re();Se(M,0,-1,10),u=A,c=A,E=(s=M)[0],T=s[1],P=s[2],c===u?(u[12]=c[0]*E+c[4]*T+c[8]*P+c[12],u[13]=c[1]*E+c[5]*T+c[9]*P+c[13],u[14]=c[2]*E+c[6]*T+c[10]*P+c[14],u[15]=c[3]*E+c[7]*T+c[11]*P+c[15]):(l=c[0],f=c[1],d=c[2],v=c[3],p=c[4],m=c[5],h=c[6],y=c[7],g=c[8],b=c[9],x=c[10],w=c[11],u[0]=l,u[1]=f,u[2]=d,u[3]=v,u[4]=p,u[5]=m,u[6]=h,u[7]=y,u[8]=g,u[9]=b,u[10]=x,u[11]=w,u[12]=l*E+p*T+g*P+c[12],u[13]=f*E+m*T+b*P+c[13],u[14]=d*E+h*T+x*P+c[14],u[15]=v*E+y*T+w*P+c[15]);var k=Re();Se(k,100,1,200),function(e,n,t){var r=t[0],o=t[1],a=t[2];e[0]=n[0]*r,e[1]=n[1]*r,e[2]=n[2]*r,e[3]=n[3]*r,e[4]=n[4]*o,e[5]=n[5]*o,e[6]=n[6]*o,e[7]=n[7]*o,e[8]=n[8]*a,e[9]=n[9]*a,e[10]=n[10]*a,e[11]=n[11]*a,e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15]}(A,A,k);var _=3,C=e.FLOAT,B=!1,L=0,I=0;e.bindBuffer(e.ARRAY_BUFFER,Ve),e.vertexAttribPointer(He.attribLocations.aVertexPosition,_,C,B,L,I),e.enableVertexAttribArray(He.attribLocations.aVertexPosition),_=3,C=e.FLOAT,B=!1,L=0,I=0,e.bindBuffer(e.ARRAY_BUFFER,We),e.vertexAttribPointer(He.attribLocations.aNormal,_,C,B,L,I),e.enableVertexAttribArray(He.attribLocations.aNormal),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,Xe),e.uniformMatrix4fv(He.uniformLocations.uTransformMatrix,!1,A),e.uniformMatrix4fv(He.uniformLocations.uWorld,!1,r),e.uniformMatrix4fv(He.uniformLocations.uProjectionMatrix,!1,n),e.uniformMatrix4fv(He.uniformLocations.uViewMatrix,!1,t),e.uniform3fv(He.uniformLocations.uWorldCameraPosition,o),e.uniform1i(He.uniformLocations.uTexture,0),e.uniform1f(He.uniformLocations.uTime,a),e.uniform1f(He.uniformLocations.uParam,i),C=e.UNSIGNED_SHORT,I=0,e.drawElements(e.TRIANGLES,6,C,I)}}(Je,a,l,f,i,e,d),requestAnimationFrame(rn)}},on=function(e){if(Ke.x==nn.x||Ke.y==nn.y)return Ke;var n=0!=en.x?en.x/(5*(Ke.x-nn.x)):0,t=0!=en.y?en.y/(5*(Ke.y-nn.y)):0,r={x:nn.x+(Ke.x-nn.x)*Math.exp(-5*e)*(5*(n+1)*e+1),y:nn.y+(Ke.y-nn.y)*Math.exp(-5*e)*(5*(t+1)*e+1)};return en={x:5*(Ke.x-nn.x)*Math.exp(-5*e)*((n+1)*(1-5*e)-1),y:5*(Ke.y-nn.y)*Math.exp(-5*e)*((t+1)*(1-5*e)-1)},Ke=r,r};const an=function(e){return n=void 0,t=void 0,o=function(){var n,t;return function(e,n){var t,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(e,i)}catch(e){a=[6,e],r=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}(this,(function(r){switch(r.label){case 0:return n=document.createElement("canvas"),e.appendChild(n),t=function(){n.width=e.clientWidth,n.height=e.clientHeight},window.addEventListener("resize",t),t(),window.addEventListener("mousemove",(function(e){var n=e.clientX-document.documentElement.clientWidth/2,t=e.clientY-document.documentElement.clientHeight/2,r=n/(document.documentElement.clientWidth/2),o=t/(document.documentElement.clientHeight/2);r<-1||r>1||o<-1||o>1||(nn={x:r,y:o})})),null===(Je=n.getContext("webgl"))?[2,!1]:(Je.clearColor(0,0,0,0),Je.clear(Je.COLOR_BUFFER_BIT),[4,Promise.all(Object.entries(Ne).map((function(e){var n=e[0],t=e[1];return new Promise((function(e){var r=new Image;r.addEventListener("load",(function(){ze[n]=r,e("")})),r.src=t}))})))]);case 1:return r.sent(),function(e){$e=e.createTexture(),e.bindTexture(e.TEXTURE_CUBE_MAP,$e);var n=Oe();[{target:e.TEXTURE_CUBE_MAP_POSITIVE_X,image:n.zp},{target:e.TEXTURE_CUBE_MAP_NEGATIVE_X,image:n.zp},{target:e.TEXTURE_CUBE_MAP_POSITIVE_Y,image:n.zp},{target:e.TEXTURE_CUBE_MAP_NEGATIVE_Y,image:n.zp},{target:e.TEXTURE_CUBE_MAP_POSITIVE_Z,image:n.zp},{target:e.TEXTURE_CUBE_MAP_NEGATIVE_Z,image:n.zp}].forEach((function(n){var t=n.target,r=n.image,o=e.RGBA,a=e.RGBA,i=e.UNSIGNED_BYTE;e.texImage2D(t,0,o,a,i,r)})),e.generateMipmap(e.TEXTURE_CUBE_MAP),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_LINEAR)}(Je),function(e){if(null===(He=De(e,"\nattribute vec3 aVertexPosition;\nattribute vec3 aNormal;\n\nuniform mat4 uTransformMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat4 uWorld;\n\nvarying vec3 vWorldPosition;\nvarying vec3 vWorldNormal;\nvarying vec2 vPosition;\n\nvoid main(void) {\n  vec4 position = vec4(aVertexPosition, 1.0);\n  gl_Position = uProjectionMatrix * uViewMatrix * uWorld * uTransformMatrix * position;\n  vWorldPosition = (uWorld * uTransformMatrix * position).xyz;\n  vWorldNormal = mat3(uWorld) * aNormal;\n  vPosition = aVertexPosition.xz;\n}\n","\nprecision highp float;\n\nvarying vec3 vWorldPosition;\nvarying vec3 vWorldNormal;\nvarying vec2 vPosition;\n\nuniform samplerCube uSkybox;\n\nuniform float uTime;\nuniform float uParam;\nuniform vec3 uWorldCameraPosition;\n\n//---noise---///\nvec3 mod289(vec3 x){ return x - floor(x * (1.0 / 289.0)) * 289.0; }\nvec4 mod289(vec4 x){ return x - floor(x * (1.0 / 289.0)) * 289.0; }\nvec4 permute(vec4 x){ return mod289(((x*34.0)+1.0)*x); }\nvec4 taylorInvSqrt(vec4 r){ return 1.79284291400159 - 0.85373472095314 * r; }\n\nfloat snoise(vec3 v){\n    const vec2 C = vec2(1.0/6.0, 1.0/3.0);\n    const vec4 D = vec4(0.0, 0.5, 1.0, 2.0);\n    vec3 i  = floor(v + dot(v, C.yyy) );\n    vec3 x0 = v - i + dot(i, C.xxx) ;\n    vec3 g = step(x0.yzx, x0.xyz);\n    vec3 l = 1.0 - g;\n    vec3 i1 = min( g.xyz, l.zxy );\n    vec3 i2 = max( g.xyz, l.zxy );\n    vec3 x1 = x0 - i1 + C.xxx;\n    vec3 x2 = x0 - i2 + C.yyy;\n    vec3 x3 = x0 - D.yyy;\n    i = mod289(i);\n    vec4 p = permute(permute(permute(\n              i.z + vec4(0.0, i1.z, i2.z, 1.0))\n            + i.y + vec4(0.0, i1.y, i2.y, 1.0))\n            + i.x + vec4(0.0, i1.x, i2.x, 1.0));\n    float n_ = 0.142857142857;\n    vec3 ns = n_ * D.wyz - D.xzx;\n    vec4 j = p - 49.0 * floor(p * ns.z * ns.z);\n    vec4 x_ = floor(j * ns.z);\n    vec4 y_ = floor(j - 7.0 * x_);\n    vec4 x = x_ * ns.x + ns.yyyy;\n    vec4 y = y_ * ns.x + ns.yyyy;\n    vec4 h = 1.0 - abs(x) - abs(y);\n    vec4 b0 = vec4(x.xy, y.xy);\n    vec4 b1 = vec4(x.zw, y.zw);\n    vec4 s0 = floor(b0)*2.0 + 1.0;\n    vec4 s1 = floor(b1)*2.0 + 1.0;\n    vec4 sh = -step(h, vec4(0.0));\n    vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy;\n    vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww;\n    vec3 p0 = vec3(a0.xy,h.x);\n    vec3 p1 = vec3(a0.zw,h.y);\n    vec3 p2 = vec3(a1.xy,h.z);\n    vec3 p3 = vec3(a1.zw,h.w);\n    vec4 norm = taylorInvSqrt(vec4(dot(p0,p0),dot(p1,p1),dot(p2, p2),dot(p3,p3)));\n    p0 *= norm.x;\n    p1 *= norm.y;\n    p2 *= norm.z;\n    p3 *= norm.w;\n    vec4 m = max(0.5 - vec4(dot(x0,x0),dot(x1,x1),dot(x2,x2),dot(x3,x3)),0.0);\n    m = m * m;\n    return 105.0 * dot(m*m,vec4(dot(p0,x0),dot(p1,x1),dot(p2,x2),dot(p3,x3)));\n}\n//---noise---//\n\n//---gradation---//\nconst vec4 phases = vec4(0.62, 0.37, 0.33, 0.);\nconst vec4 amplitudes = vec4(1.00, 1.00, 1.00, 0.);\nconst vec4 frequencies = vec4(0.01, 0.10, 0.08, 0.);\nconst vec4 offsets = vec4(0.00, 0.00, 0.00, 0.);\n\nconst vec4 sbPhasesFrom = vec4(0.46, 0.50, 0.39, 0.);\nconst vec4 sbFrequenciesFrom = vec4(0.03, 0.00, 0.06, 0.);\nconst vec4 sbPhasesTo = vec4(0.35, 0.43, 0.55, 0.);\nconst vec4 sbFrequenciesTo = vec4(0.06, 0.03, 0.10, 0.);\nconst vec4 sbAmplitudes = vec4(1.00, 1.00, 1.00, 0.);\nconst vec4 sbOffsets = vec4(0.00, 0.00, 0.00, 0.);\n\nconst float TAU = 2. * 3.14159265;\n\nvec4 cosine_gradient(float x,  vec4 phase, vec4 amp, vec4 freq, vec4 offset){\n  phase *= TAU;\n  x *= TAU;\n\n  return vec4(\n    offset.r + amp.r * 0.5 * cos(x * freq.r + phase.r) + 0.5,\n    offset.g + amp.g * 0.5 * cos(x * freq.g + phase.g) + 0.5,\n    offset.b + amp.b * 0.5 * cos(x * freq.b + phase.b) + 0.5,\n    offset.a + amp.a * 0.5 * cos(x * freq.a + phase.a) + 0.5\n  );\n}\n\nvec3 toRGB(vec4 grad){\n  return grad.rgb;\n}\n//---gradation---//\n\nfloat overrayf(float base, float mix) {\n  if (base < 0.5) {\n    return base * mix * 2.0;\n  } else {\n    return 2.0 * (base + mix - base * mix) - 1.0;\n  }\n}\n\nvec4 overray(vec4 base, vec4 mix) {\n  return vec4(overrayf(base.x,mix.x),overrayf(base.y,mix.y),overrayf(base.z,mix.z),base.w);\n}\n\nvoid main(void) {\n  const float scale = 0.1;\n  const float pos_scale = 0.2;\n  vec2 pos = (vPosition + vec2(1.0)) / 2.0 * 500.0;\n  vec2 dtv = vec2(0.0, uTime * 1.3);\n  vec2 tx1 = pos * pos_scale + dtv + vec2(-0.5,0.0);\n  vec2 tx2 = pos * pos_scale + dtv + vec2(0.5,0.0);\n  vec2 ty1 = pos * pos_scale + dtv + vec2(0.0,-0.5);\n  vec2 ty2 = pos * pos_scale + dtv + vec2(0.0,0.5);\n  float nx1 = snoise(vec3(tx1, uTime * 0.1));\n  float nx2 = snoise(vec3(tx2, uTime * 0.1));\n  float ny1 = snoise(vec3(ty1, uTime * 0.1));\n  float ny2 = snoise(vec3(ty2, uTime * 0.1));\n  float dx = (nx2 - nx1) / 2.0 * scale * smoothstep(0.3, 0.5, (1.0 - (vPosition.y + 1.0) / 2.0));\n  float dy = (ny2 - ny1) / 2.0 * scale * smoothstep(0.3, 0.5, (1.0 - (vPosition.y + 1.0) / 2.0));\n  vec3 dxv = vec3(1,dx,0);\n  vec3 dyv = vec3(0,dy,1);\n  \n  vec3 windedNormal = cross(dyv, dxv);\n  vec3 worldNormal = normalize(windedNormal);\n  vec3 eyeToSurfaceDir = normalize(vWorldPosition - uWorldCameraPosition);\n  vec3 direction = reflect(eyeToSurfaceDir, worldNormal);\n  vec4 baseColor = vec4(textureCube(uSkybox, direction).xyz * (smoothstep(0.0,0.5,uParam)* 0.1 + 0.9) * 0.9, 1.0);\n\n  vec2 uv = 1.0 - smoothstep(0.0, 0.1, clamp(vPosition + 0.04, 0.0, 1.0));\n  vec4 cos_grad = cosine_gradient(uv.y, mix(sbPhasesFrom, sbPhasesTo, uParam), sbAmplitudes, mix(sbFrequenciesFrom, sbFrequenciesTo, uParam), sbOffsets);\n  cos_grad = clamp(cos_grad, 0., 1.);\n  vec4 sbOverrayColor = vec4(toRGB(cos_grad), 1.0);\n\n  uv = vPosition;\n  cos_grad = cosine_gradient(uv.y, phases, amplitudes, frequencies, offsets);\n  cos_grad = clamp(cos_grad, 0., 1.);\n  vec4 color = vec4(toRGB(cos_grad), 1.0);\n\n  gl_FragColor = overray(overray(baseColor, sbOverrayColor),color);\n}\n",{attribLocations:qe,uniformLocations:Ye})))return!1;Ve=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,Ve);var n=[[-1,0,1],[1,0,1],[1,0,-1],[-1,0,-1]].reduce((function(e,n){return e.concat([n[0],n[1],n[2]])}),[]);return e.bufferData(e.ARRAY_BUFFER,new Float32Array(n),e.STATIC_DRAW),We=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,We),e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,0,1,0,0,1,0]),e.STATIC_DRAW),Xe=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,Xe),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,0,2,3]),e.STATIC_DRAW),!0}(Je)&&function(e){return null!==(Qe=De(e,"\nattribute vec4 aPosition;\nvarying vec4 vPosition;\n\nvoid main(void) {\n  vPosition = aPosition;\n  gl_Position = aPosition;\n  gl_Position.z = 1.0;\n  gl_Position.w = 1.0;\n}\n","\nprecision mediump float;\n\nuniform float uParam;\nuniform samplerCube uSkybox;\nuniform mat4 uViewDirectionProjectionInverse;\nvarying vec4 vPosition;\n\nconst vec4 phasesFrom = vec4(0.46, 0.50, 0.39, 0.);\nconst vec4 frequenciesFrom = vec4(0.03, 0.00, 0.06, 0.);\nconst vec4 phasesTo = vec4(0.35, 0.43, 0.55, 0.);\nconst vec4 frequenciesTo = vec4(0.06, 0.03, 0.10, 0.);\nconst vec4 amplitudes = vec4(1.00, 1.00, 1.00, 0.);\nconst vec4 offsets = vec4(0.00, 0.00, 0.00, 0.);\n\nconst float TAU = 2. * 3.14159265;\n\nvec4 cosine_gradient(float x,  vec4 phase, vec4 amp, vec4 freq, vec4 offset){\n  phase *= TAU;\n  x *= TAU;\n\n  return vec4(\n    offset.r + amp.r * 0.5 * cos(x * freq.r + phase.r) + 0.5,\n    offset.g + amp.g * 0.5 * cos(x * freq.g + phase.g) + 0.5,\n    offset.b + amp.b * 0.5 * cos(x * freq.b + phase.b) + 0.5,\n    offset.a + amp.a * 0.5 * cos(x * freq.a + phase.a) + 0.5\n  );\n}\n\nvec3 toRGB(vec4 grad){\n  return grad.rgb;\n}\n\nfloat overrayf(float base, float mix) {\n  if (base < 0.5) {\n    return base * mix * 2.0;\n  } else {\n    return 2.0 * (base + mix - base * mix) - 1.0;\n  }\n}\n\nvec4 overray(vec4 base, vec4 mix) {\n  return vec4(overrayf(base.x,mix.x),overrayf(base.y,mix.y),overrayf(base.z,mix.z),base.w);\n}\n\nvoid main(void) {\n  vec4 t = uViewDirectionProjectionInverse * vec4(vPosition.x, vPosition.y, vPosition.z, vPosition.w);\n  vec4 baseColor = vec4(textureCube(uSkybox, normalize(t.xyz / t.w)).xyz * (smoothstep(0.0,0.5,uParam)* 0.1 + 0.9), 1.0);\n\n  vec2 uv = vPosition.xy;\n  vec4 cos_grad = cosine_gradient(uv.y, mix(phasesFrom, phasesTo, uParam), amplitudes, mix(frequenciesFrom, frequenciesTo, uParam), offsets);\n  cos_grad = clamp(cos_grad, 0., 1.);\n  vec4 color = vec4(toRGB(cos_grad), 1.0);\n\n  gl_FragColor = overray(baseColor, color);\n  //gl_FragColor = textureCube(uSkybox, normalize(t.xyz / t.w));\n}\n",{attribLocations:Ge,uniformLocations:je}))&&(Ze=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,Ze),e.bufferData(e.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),e.STATIC_DRAW),!0)}(Je)?(requestAnimationFrame(rn),[2,!0]):[2,!1]}}))},new((r=void 0)||(r=Promise))((function(e,a){function i(e){try{c(o.next(e))}catch(e){a(e)}}function u(e){try{c(o.throw(e))}catch(e){a(e)}}function c(n){var t;n.done?e(n.value):(t=n.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,u)}c((o=o.apply(n,t||[])).next())}));var n,t,r,o};const un=function(){return e=void 0,n=void 0,r=function(){var e;return function(e,n){var t,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(e,i)}catch(e){a=[6,e],r=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}(this,(function(n){switch(n.label){case 0:return e=document.getElementById("background"),[4,an(e)];case 1:return n.sent()||(e.style.background="url(images/background.jpg)"),[2]}}))},new((t=void 0)||(t=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function u(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(i,u)}c((r=r.apply(e,n||[])).next())}));var e,n,t,r};var cn,sn={},ln=0,fn=function(){var e=window.scrollY+document.documentElement.clientHeight/2;Object.values(sn).forEach((function(n){var t=n.target.offsetTop,r=n.target.offsetTop+n.target.clientHeight/2+n.tail;"enter"===n.eventType&&t>=cn&&t<e?n.callback("down"):"enter"===n.eventType&&r>=e&&r<cn?n.callback("up"):"exit"===n.eventType&&r>=cn&&r<e?n.callback("down"):"exit"===n.eventType&&t>=e&&t<cn&&n.callback("up")})),cn=e,requestAnimationFrame(fn)};const dn=function(e,n,t,r){return sn[ln]={eventType:e,target:n,callback:t,tail:r},++ln-1};var vn,pn="normal",mn="stoped";var hn;var yn,gn,bn=function(e,n,t,r){return new(t||(t=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function u(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(i,u)}c((r=r.apply(e,n||[])).next())}))},xn=function(e,n){var t,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(e,i)}catch(e){a=[6,e],r=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},wn=function(e,n,t){if(t||2===arguments.length)for(var r,o=0,a=n.length;o<a;o++)!r&&o in n||(r||(r=Array.prototype.slice.call(n,0,o)),r[o]=n[o]);return e.concat(r||Array.prototype.slice.call(n))},En="normal",Tn="stoped";var Pn,An=function(e,n,t,r){return new(t||(t=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function u(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(i,u)}c((r=r.apply(e,n||[])).next())}))},Mn=function(e,n){var t,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(e,i)}catch(e){a=[6,e],r=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}};Me=Ae({targets:"#loading-svg .wave",d:["M 0 128 Q 40.587 112 64 112 Q 87.413 112 128 128 Q 168.587 144 192 144 Q 215.413 144 256 128","M 0 128 Q 40.587 144 64 144 Q 87.413 144 128 128 Q 168.587 112 192 112 Q 215.413 112 256 128"],duration:2e3,easing:"easeInOutSine",direction:"alternate",loop:!0}),ke=Ae({targets:"#loading-svg .wave-mask",d:["M 0 128 Q 40.587 112 64 112 Q 87.413 112 128 128 Q 168.587 144 192 144 Q 215.413 144 256 128 L 256 0 L 0 0 L 0 128","M 0 128 Q 40.587 144 64 144 Q 87.413 144 128 128 Q 168.587 112 192 112 Q 215.413 112 256 128 L 256 0 L 0 0 L 0 128"],duration:2e3,easing:"easeInOutSine",direction:"alternate",loop:!0}),(_e=Ae.timeline({easing:"easeOutQuad",loop:!0})).add({targets:"#loading-svg .sun",cy:[192,96],duration:3e3}),_e.add({targets:"#loading-svg .sun",cy:[96,192],duration:1e3},"+=1000"),Pn=document.getElementById("songs"),hn=r.map((function(e,n){var t=document.createElement("div");t.classList.add("song"),null==Pn||Pn.appendChild(t);var r=document.createElement("div");r.classList.add("wrapper"),t.appendChild(r);var o=document.createElement("div");o.classList.add("track-number"),o.textContent="0"+(n+1),r.appendChild(o);var a=document.createElement("div");a.classList.add("slash"),r.appendChild(a);var i=document.createElement("div");i.classList.add("song-title"),i.textContent=e.title,r.appendChild(i);var u=document.createElement("div");u.classList.add("composer"),u.textContent=e.composer,r.appendChild(u);var c=document.createElement("div");if(c.classList.add("sns-link-container"),r.appendChild(c),e.soundcloud){var s=document.createElement("a");s.classList.add("sns-link","sc"),s.href=e.soundcloud,c.appendChild(s),(l=document.createElement("img")).src="./images/sns/soundcloud.png",s.appendChild(l)}if(e.twitter){var l,f=document.createElement("a");f.classList.add("sns-link","tw"),f.href=e.twitter,c.appendChild(f),(l=document.createElement("img")).src="./images/sns/twitter.svg",f.appendChild(l)}var d="normal",v="stoped",p=Ae.timeline({duration:1e3,easing:"easeOutQuart",update:function(e){e.completed&&(v="stoped")},complete:function(){v="stoped"}});return p.add({targets:o,opacity:[0,.5]}),p.add({targets:a,opacity:[0,1],translateY:[-100,0],rotateZ:[-100,0]},"-=900"),p.add({targets:i,opacity:[0,1],translateX:[-50,0]},"-=900"),p.add({targets:u,opacity:[0,1],translateY:[-50,0]},"-=900"),p.add({targets:c,opacity:[0,1],translateX:[50,0]},"-=900"),p.pause(),dn("enter",t,(function(){"reverse"===d&&(p.reverse(),d="normal"),"stoped"===v&&(p.play(),v="playing"),P.play(n)}),.2*t.clientHeight),dn("exit",t,(function(){"normal"===d&&(p.reverse(),d="reverse"),"stoped"===v&&(p.play(),v="playing")}),.2*t.clientHeight),t})),function(){var e=document.getElementById("jacket"),n=document.getElementById("description"),t=document.getElementById("information-track-list");(vn=Ae.timeline({duration:1e3,easing:"easeOutQuart",update:function(e){e.completed&&(mn="stoped")},complete:function(){mn="stoped"},autoplay:!1})).add({targets:e,translateX:[-50,0],opacity:[0,1]}),r.forEach((function(e,n){var r=document.createElement("li");r.textContent="0"+(n+1)+" "+e.title+" / "+e.composer,null==t||t.appendChild(r),vn.add({targets:r,translateX:[50,0],opacity:[0,1]},"-=900")})),vn.add({targets:n,translateX:[50,0],opacity:[0,1]},"-=1500");var o=document.getElementById("information");dn("enter",o,(function(e){"up"!==e&&("reverse"===pn&&(vn.reverse(),pn="normal"),"stoped"===mn&&(vn.play(),mn="playing"))}),0),dn("exit",o,(function(e){"down"!==e&&("normal"===pn&&(vn.reverse(),pn="reverse"),"stoped"===mn&&(vn.play(),mn="playing"))}),0)}(),window.onload=function(){return An(void 0,void 0,void 0,(function(){return Mn(this,(function(e){switch(e.label){case 0:return document.getElementsByTagName("html")[0].style.overflow="hidden",[4,Promise.all([P.load(),bn(void 0,void 0,void 0,(function(){return xn(this,(function(e){switch(e.label){case 0:return[4,Promise.all(wn([],Array(11),!0).map((function(e,n){return new Promise((function(e){var t=new Image;t.onload=function(){return e(t)},t.src="./images/logo/"+n+".png"}))})))];case 1:return yn=e.sent(),[2]}}))})),un()])];case 1:return e.sent(),cn=window.scrollY+document.documentElement.clientHeight/2,Object.values(sn).forEach((function(e){var n=e.eventType,t=e.target,r=e.tail,o=e.callback;"enter"===n&&t.offsetTop<=cn&&cn<t.offsetTop+t.clientHeight/2+r&&o("down")})),requestAnimationFrame(fn),bn(void 0,void 0,void 0,(function(){var e,n;return xn(this,(function(t){return e=document.getElementById("title-logo-wrapper"),yn.forEach((function(n){return null==e?void 0:e.appendChild(n)})),(gn=Ae.timeline({duration:1e3,easing:"easeOutQuart",update:function(e){e.completed&&(Tn="stoped")},complete:function(){Tn="stoped"},autoplay:!1})).add({targets:yn[1],translateX:[-20,0],opacity:[0,1]}).add({targets:yn[2],translateX:[20,0],translateY:[30,0],opacity:[0,1]},"-=900").add({targets:yn[3],translateY:[-50,0],opacity:[0,1]},"-=900").add({targets:yn[4],translateX:[50,0],opacity:[0,1]},"-=900").add({targets:yn[5],translateY:[50,0],opacity:[0,1]},"-=900").add({targets:yn[6],translateX:[-50,0],opacity:[0,1]},"-=700").add({targets:yn[7],translateX:[-50,0],opacity:[0,1]},"-=700").add({targets:yn[0],translateY:[-100,0],opacity:[0,1],easing:"spring(1,100,10,0)"},"-=1000").add({targets:yn[8],translateX:[Math.sqrt(50*Math.cos(.13*Math.PI)*50),0],translateY:[Math.sqrt(50*Math.sin(.13*Math.PI)*50),0],opacity:[0,1]},"-=1500").add({targets:yn[9],translateX:[Math.sqrt(50*Math.cos(.4*Math.PI)*50),0],translateY:[Math.sqrt(50*Math.sin(.4*Math.PI)*50),0],opacity:[0,1]},"-=1400").add({targets:yn[10],translateX:[Math.sqrt(50*Math.cos(.49*Math.PI)*50),0],translateY:[Math.sqrt(50*Math.sin(.49*Math.PI)*50),0],opacity:[0,1]},"-=1200"),n=document.getElementById("title"),dn("enter",n,(function(){"reverse"===En&&(gn.reverse(),En="normal"),"stoped"===Tn&&(gn.play(),Tn="playing")}),20),dn("exit",n,(function(){"normal"===En&&(gn.reverse(),En="reverse"),"stoped"===Tn&&(gn.play(),Tn="playing")}),20),[2]}))})),Ce((function(){return An(void 0,void 0,void 0,(function(){return Mn(this,(function(e){switch(e.label){case 0:return[4,P.init()];case 1:return e.sent(),document.getElementById("information").clientHeight+20>=window.scrollY+document.documentElement.clientHeight/2&&(gn.play(),Tn="playing"),function(){P.setAudioEndCallback((function(){var e=P.getCurrentTrackNum(),n=0;if(e==P.getNumberOfTracks()-1){P.pause();var t=document.getElementById("information");n=Math.min(t.offsetTop,document.documentElement.scrollHeight-document.documentElement.clientHeight)}else P.play(e+1),n=hn[e+1].offsetTop-50;var r=performance.now()+2e3,o=0,a=window.scrollY,i=0,u=function(e){if(!(e>r)){var t=(e+2e3-r)/1e3,c=t-o,s=a-n,l=0!=i?i/(5*s):0,f=n+s*Math.exp(-5*c)*((l+1)*c*5+1);window.scrollTo({top:f}),o=t,a=f,i=5*s*Math.exp(-5*c)*((l+1)*(1-5*c)-1),requestAnimationFrame(u)}};requestAnimationFrame(u)}));var e=window.scrollY+document.documentElement.clientHeight/2;if(e<=hn[0].offsetTop)P.play(0);else if(hn[hn.length-1].offsetTop<e)P.play(hn.length-1);else for(var n=hn.length-1;n>=0;n--)if(hn[n].offsetTop<e){P.play(n);break}}(),document.getElementById("information").offsetTop<window.scrollY+document.documentElement.clientHeight/2&&(vn.play(),mn="playing"),[2]}}))}))}),!1),[2]}}))}))}})()})();